<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Animacion Basica</title>
<style type="text/css">
	canvas{
		border: solid;
	}
</style>
</head>
<body>
	<canvas id="miCanvas">
		<!-- mostramos un mensaje de error si no es aceptado -->
		Tu navegador no soporta Canvas; por favort actualizalo
	</canvas>
	<input type="button" value="Iniciar" id="boton" />
	<script type="text/javascript">
		var velocidad =5, direccion = velocidad, iniciar= false, x = 50, y = 10;
		var intervalo;
		window.addEventListener("load",init);
		
		function init(){
			var canvas = document.getElementById("miCanvas");
			var ctx = canvas.getContext("2d");
			
			ctx.fillStyle = "rgb(200,0,0)";
			ctx.arc(x,y,10,0,7);
			
			ctx.fill();
			
			document.getElementById("boton").addEventListener("click",function(){
				if (iniciar){
					this.value = "Iniciar";
					window.clearInterval(intervalo);
					iniciar = false;
				}else{
					this.value ="Detener";
					intervalo = window.setInterval(function(){
						moveAndDraw(canvas,ctx);
					},32);
					iniciar= true;
				}
			});
		}
		
		function draw(canvas,ctx,x,y){
			canvas.width = canvas.width;//igualamos el canvas a si mismo para borrarlo todo
			ctx.fillStyle = "rgb(200,0,0)";
			ctx.arc(x,y,10,0,7);
			ctx.fill();
		}
		
		function moveAndDraw(canvas,ctx){
			if(y>(canvas.height -20))direccion = -velocidad;
			if(y<(20))direccion = velocidad;
			y += direccion;
			draw (canvas,ctx,x,y);
		}

	</script>
</body>
</html>